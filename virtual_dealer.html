<html>

<head>
    <title>Virtual Dealer</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000000;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.1/pixi.min.js"></script>
    <script src="./vendor/pixi-spine.js"></script>
</head>

<body>
    <script>

        console.log("PIXI", PIXI.Application);
        var app = new PIXI.Application(1200, 650, { backgroundColor: 0x111111 });
        app.stage.interactive = true;
        document.body.appendChild(app.view);

        PIXI.loader
            .add("virtual_dealer", "assets/virtual-dealer/virtual dealer.json", { crossOrigin: true })
            .load(onAssetsLoaded);

        var spine;
        var spineData;

        function onAssetsLoaded(loader, res) {
            spineData = res.virtual_dealer.spineData;

            spine = app.stage.addChild(new PIXI.spine.Spine(res.virtual_dealer.spineData));

            console.log(spine);
            spine.skeleton.setSkinByName("V2")

            spine.position.set(app.renderer.width * 0.45, app.renderer.height * 0.6);
            spine.state.setAnimation(0, "case 1: Prepare next round", true);
            spine.state.timeScale = 0.5;
        }


    </script>

</body>

</html>